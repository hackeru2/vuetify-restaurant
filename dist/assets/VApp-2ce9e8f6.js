import{p as b,V as T,l as E,au as re,N as D,n as ce,az as W,aA as F,Z as H,j as c,U as L,s as N,M as X,W as Y,k as V,$ as ve,Y as de,aB as fe,aC as me,g as J,a as A,H as ye,J as pe,K as ge}from"./index-3decbff7.js";const G=b({class:[String,Array],style:{type:[String,Array,Object],default:null}},"component");function Q(e){const s=T("useRender");s.render=e}function he(e){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"content";const t=E(),l=E();if(re){const n=new ResizeObserver(o=>{e==null||e(o,n),o.length&&(s==="content"?l.value=o[0].contentRect:l.value=o[0].target.getBoundingClientRect())});D(()=>{n.disconnect()}),ce(t,(o,i)=>{i&&(n.unobserve(W(i)),l.value=void 0),o&&n.observe(W(o))},{flush:"post"})}return{resizeRef:t,contentRect:F(l)}}const M=Symbol.for("vuetify:layout"),ee=Symbol.for("vuetify:layout-item"),q=1e3,be=b({overlaps:{type:Array,default:()=>[]},fullHeight:Boolean},"layout"),Ae=b({name:{type:String},order:{type:[Number,String],default:0},absolute:Boolean},"layout-item");function Ie(){const e=H(M);if(!e)throw new Error("[Vuetify] Could not find injected layout");return{getLayoutItem:e.getLayoutItem,mainRect:e.mainRect,mainStyles:e.mainStyles}}function Me(e){const s=H(M);if(!s)throw new Error("[Vuetify] Could not find injected layout");const t=e.id??`layout-item-${de()}`,l=T("useLayoutItem");Y(ee,{id:t});const n=N(!1);fe(()=>n.value=!0),me(()=>n.value=!1);const{layoutItemStyles:o,layoutItemScrimStyles:i}=s.register(l,{...e,active:c(()=>n.value?!1:e.active.value),id:t});return D(()=>s.unregister(t)),{layoutItemStyles:o,layoutRect:s.layoutRect,layoutItemScrimStyles:i}}const Se=(e,s,t,l)=>{let n={top:0,left:0,right:0,bottom:0};const o=[{id:"",layer:{...n}}];for(const i of e){const m=s.get(i),p=t.get(i),g=l.get(i);if(!m||!p||!g)continue;const I={...n,[m.value]:parseInt(n[m.value],10)+(g.value?parseInt(p.value,10):0)};o.push({id:i,layer:I}),n=I}return o};function Re(e){const s=H(M,null),t=c(()=>s?s.rootZIndex.value-100:q),l=E([]),n=L(new Map),o=L(new Map),i=L(new Map),m=L(new Map),p=L(new Map),{resizeRef:g,contentRect:I}=he(),te=c(()=>{const u=new Map,d=e.overlaps??[];for(const a of d.filter(v=>v.includes(":"))){const[v,r]=a.split(":");if(!l.value.includes(v)||!l.value.includes(r))continue;const y=n.get(v),h=n.get(r),w=o.get(v),$=o.get(r);!y||!h||!w||!$||(u.set(r,{position:y.value,amount:parseInt(w.value,10)}),u.set(v,{position:h.value,amount:-parseInt($.value,10)}))}return u}),S=c(()=>{const u=[...new Set([...i.values()].map(a=>a.value))].sort((a,v)=>a-v),d=[];for(const a of u){const v=l.value.filter(r=>{var y;return((y=i.get(r))==null?void 0:y.value)===a});d.push(...v)}return Se(d,n,o,m)}),_=c(()=>!Array.from(p.values()).some(u=>u.value)),R=c(()=>S.value[S.value.length-1].layer),ne=c(()=>({"--v-layout-left":V(R.value.left),"--v-layout-right":V(R.value.right),"--v-layout-top":V(R.value.top),"--v-layout-bottom":V(R.value.bottom),..._.value?void 0:{transition:"none"}})),x=c(()=>S.value.slice(1).map((u,d)=>{let{id:a}=u;const{layer:v}=S.value[d],r=o.get(a),y=n.get(a);return{id:a,...v,size:Number(r.value),position:y.value}})),j=u=>x.value.find(d=>d.id===u),B=T("createLayout"),k=N(!1);X(()=>{k.value=!0}),Y(M,{register:(u,d)=>{let{id:a,order:v,position:r,layoutSize:y,elementSize:h,active:w,disableTransitions:$,absolute:se}=d;i.set(a,v),n.set(a,r),o.set(a,y),m.set(a,w),$&&p.set(a,$);const K=ve(ee,B==null?void 0:B.vnode).indexOf(u);K>-1?l.value.splice(K,0,a):l.value.push(a);const U=c(()=>x.value.findIndex(z=>z.id===a)),C=c(()=>t.value+S.value.length*2-U.value*2),le=c(()=>{const z=r.value==="left"||r.value==="right",P=r.value==="right",ie=r.value==="bottom",Z={[r.value]:0,zIndex:C.value,transform:`translate${z?"X":"Y"}(${(w.value?0:-110)*(P||ie?-1:1)}%)`,position:se.value||t.value!==q?"absolute":"fixed",..._.value?void 0:{transition:"none"}};if(!k.value)return Z;const f=x.value[U.value];if(!f)throw new Error(`[Vuetify] Could not find layout item "${a}"`);const O=te.value.get(a);return O&&(f[O.position]+=O.amount),{...Z,height:z?`calc(100% - ${f.top}px - ${f.bottom}px)`:h.value?`${h.value}px`:void 0,left:P?void 0:`${f.left}px`,right:P?`${f.right}px`:void 0,top:r.value!=="bottom"?`${f.top}px`:void 0,bottom:r.value!=="top"?`${f.bottom}px`:void 0,width:z?h.value?`${h.value}px`:void 0:`calc(100% - ${f.left}px - ${f.right}px)`}}),ue=c(()=>({zIndex:C.value-1}));return{layoutItemStyles:le,layoutItemScrimStyles:ue,zIndex:C}},unregister:u=>{i.delete(u),n.delete(u),o.delete(u),m.delete(u),p.delete(u),l.value=l.value.filter(d=>d!==u)},mainRect:R,mainStyles:ne,getLayoutItem:j,items:x,layoutRect:I,rootZIndex:t});const oe=c(()=>["v-layout",{"v-layout--full-height":e.fullHeight}]),ae=c(()=>({zIndex:s?t.value:void 0,position:s?"relative":void 0,overflow:s?"hidden":void 0}));return{layoutClasses:oe,layoutStyles:ae,getLayoutItem:j,items:x,layoutRect:I,layoutRef:g}}function xe(){const e=N(!1);return X(()=>{window.requestAnimationFrame(()=>{e.value=!0})}),{ssrBootStyles:c(()=>e.value?void 0:{transition:"none !important"}),isBooted:F(e)}}const we=b({tag:{type:String,default:"div"}},"tag"),$e=b({scrollable:Boolean,...G(),...we({tag:"main"})},"VMain"),Be=J()({name:"VMain",props:$e(),setup(e,s){let{slots:t}=s;const{mainStyles:l}=Ie(),{ssrBootStyles:n}=xe();return Q(()=>A(e.tag,{class:["v-main",{"v-main--scrollable":e.scrollable},e.class],style:[l.value,n.value,e.style]},{default:()=>{var o,i;return[e.scrollable?A("div",{class:"v-main__scroller"},[(o=t.default)==null?void 0:o.call(t)]):(i=t.default)==null?void 0:i.call(t)]}})),{}}});const ze=b({...G(),...be({fullHeight:!0}),...ye()},"VApp"),Ce=J()({name:"VApp",props:ze(),setup(e,s){let{slots:t}=s;const l=pe(e),{layoutClasses:n,getLayoutItem:o,items:i,layoutRef:m}=Re(e),{rtlClasses:p}=ge();return Q(()=>{var g;return A("div",{ref:m,class:["v-application",l.themeClasses.value,n.value,p.value,e.class],style:[e.style]},[A("div",{class:"v-application__wrap"},[(g=t.default)==null?void 0:g.call(t)])])}),{getLayoutItem:o,items:i,theme:l}}});export{Be as V,Ce as a,we as b,Ae as c,xe as d,Me as e,he as f,G as m,Q as u};
